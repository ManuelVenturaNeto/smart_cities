<!DOCTYPE html>
<html>
<head>
    <title>Smart Cities - Heatmap</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script src="https://maps.googleapis.com/maps/api/js?key={{ google_maps_key }}&libraries=visualization"></script>
</head>
<body>
    <div class="header-bar">
        <a href="{{ url_for('routes.home') }}">View Home</a>
    </div>
    <div class="container">
        <h1>Traffic Data Heatmap</h1>
        
        <div class="loading" id="loading">
            <div class="spinner"></div>
            <p>Loading heatmap data...</p>
        </div>
        
        <div id="map"></div>
        
        <div class="controls">
            <button id="heatmap-speed-reducer">Speed Reducer</button>
            <button id="heatmap-traffic-light-signaling">Traffic Light Signaling</button>
            <button id="heatmap-electronic-physicalization">Electronic Physicalization</button>
            <button id="heatmap-public-parking-elderly-person">Public Parking Elderly Person</button>
            <button id="heatmap-short-term-parking">Short Term Parking</button>
            <button id="heatmap-rotary-sales-point">Rotary Sales Point</button>
            <button id="heatmap-traffic-accident-with-victims">Traffic Cccident With Victims</button>
            <button id="toggle-markers">Toggle Accident Markers</button>
        </div>
        <div class="filters" id="accident-filters" style="display: none;">
            <h3>Accident Filters</h3>
            <div class="filter-group">
                <label for="year-filter">Year:</label>
                <select id="year-filter">
                    <option value="">All Years</option>
                    <!-- Will be populated by JavaScript -->
                </select>
            </div>
            <div class="filter-group">
                <label for="fatality-filter">Fatality:</label>
                <select id="fatality-filter">
                    <option value="">All</option>
                    <option value="Sim">With fatalities</option>
                    <option value="NÃ£o">Without fatalities</option>
                </select>
            </div>
            <button id="apply-filters">Apply Filters</button>
        </div>
    </div>
    
    <script src="{{ url_for('static', filename='heatmap.js') }}"></script>
</body>
</html>